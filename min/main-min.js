function launchFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function dumpFullscreen(){console.log("document.fullscreenElement is: ",document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement),console.log("document.fullscreenEnabled is: ",document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)}var STORAGE_KEY="randomizr",listStorage={fetch:function(){var e=JSON.parse(localStorage.getItem(STORAGE_KEY)||"[]");return e.forEach(function(e,n){e.id=n}),listStorage.uid=e.length,e},save:function(e){localStorage.setItem(STORAGE_KEY,JSON.stringify(e))}},app=new Vue({el:"#app",data:{message:"Randomizr!",people:listStorage.fetch(),presentation:!1,newPerson:{name:"",count:""}},watch:{people:{handler:function(e){listStorage.save(e)},deep:!0}},methods:{addPerson:function(){this.newPerson.name&&this.newPerson.name.trim()&&this.newPerson.count&&(app.people.push({id:app.people.uid++,name:this.newPerson.name,count:this.newPerson.count}),this.newPerson.name="",this.newPerson.count="")},removePerson:function(e){this.people.splice(this.people.indexOf(e),1)},startRandomizr:function(){launchFullscreen(document.documentElement),app.presentation=!0,window.addEventListener("keyup",function(e){"Escape"==e.key&&(app.presentation=!1)})}}});