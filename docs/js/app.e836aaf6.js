(function(t){function e(e){for(var r,s,a=e[0],u=e[1],c=e[2],f=0,d=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/randomizr/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0802":function(t,e,n){},"21bb":function(t,e,n){"use strict";n("7a98")},"2f16":function(t,e,n){"use strict";n("0802")},3090:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Home",{staticClass:"randomizr"})},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.presenting?n("Presentation",{on:{close:function(e){t.presenting=!1}}}):n("Entries",{on:{present:t.launchFullscreen}})},a=[],u=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("section",{staticClass:"edit-list"},[r("header",{staticClass:"header"},[r("h1",[r("span",{staticClass:"total-gifts",domProps:{textContent:e._s(e.total)}}),e._v(" Gifts Randomizr")])]),r("div",{staticClass:"list",class:(t={},t["list-cols"+e.list.length]=e.list.length<4,t)},e._l(e.list,(function(t,n,i){return r("div",{key:i,staticClass:"list-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"item.count"}],staticClass:"list-qty",attrs:{type:"number",name:"quantity",min:"0",max:"99",placeholder:"1"},domProps:{value:t.count},on:{input:function(n){n.target.composing||e.$set(t,"count",n.target.value)}}}),r("span",{staticClass:"list-name"},[e._v(e._s(t.name))]),r("button",{staticClass:"list-item--remove",on:{click:function(t){return e.removeName(n)}}},[r("svg",{staticClass:"icon"},[r("use",{attrs:{"xlink:href":"#close"}})])])])})),0),r("NewEntry",{on:{push:function(t){return e.addName(t)}}}),r("button",{staticClass:"btn btn-start",attrs:{type:"button"},domProps:{textContent:e._s("Start")},on:{click:function(t){return e.$emit("present")}}})],1)},c=[],l=n("a8db"),f=(n("ac6a"),n("8615"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form-addName",on:{submit:function(e){return e.preventDefault(),t.addName(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"form-qty",attrs:{max:"99",min:"1",type:"number"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"name",staticClass:"form-name",attrs:{placeholder:"Name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("button",{staticClass:"btn",attrs:{type:"submit"},domProps:{textContent:t._s("Add Name")}})])}),d=[],m=(n("7f7f"),n("6b54"),{name:"NewNameForm",data:function(){return{name:"",count:1}},methods:{guid:function(){function t(t,e){for(e=t="";t++<4;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"");return e}return t()},addName:function(){this.name.trim()&&(this.$emit("push",{uid:this.guid(),name:this.name,count:this.count}),this.resetForm())},resetForm:function(){this.name="",this.count=1,null!=this.$refs.name&&this.$refs.name.focus()}}}),h=m,p=(n("c466"),n("2877")),v=Object(p["a"])(h,f,d,!1,null,null,null),b=v.exports,y={name:"Entries",components:{NewEntry:b},computed:{total:function(){var t=Object.values(this.list),e=0;return t.forEach((function(t){e+=parseInt(t.count,36)})),e}},data:function(){return{list:{}}},watch:{list:{handler:function(t){localStorage.setItem("randomizr",JSON.stringify(t))},deep:!0}},mounted:function(){var t=JSON.parse(localStorage.getItem("randomizr"))||{};this.list=Array.isArray(t)?{}:t},methods:{addName:function(t){var e=t.uid,n=Object(l["a"])(t,["uid"]);r["a"].set(this.list,e,n)},removeName:function(t){r["a"].delete(this.list,t)}}},g=y,w=(n("2f16"),Object(p["a"])(g,u,c,!1,null,null,null)),O=w.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"presentation",attrs:{tabindex:"-1"},on:{keydown:t.handleKeydown,click:t.handleClick}},[n("SnowOverlay"),n("transition",{attrs:{appear:"",name:"slide-fade"}},[t.remaining&&t.identity?n("div",{key:t.remaining,staticClass:"presentation-display"},[n("h1",{domProps:{textContent:t._s(t.identity.name)}}),n("h3",{domProps:{textContent:t._s(t.identity.count>0?t.identity.count+" Gifts Remaining":"Last One, Make It Count")}})]):n("div",{staticClass:"presentation-display"},[n("h1",[t._v("Merry Christmas")]),n("h3",[t._v("The End")])])]),t.remaining?n("div",{staticClass:"info-bar"},[n("Clock"),n("span",{domProps:{textContent:t._s(t.history.length+" / "+(t.remaining+t.history.length))}})],1):t._e()],1)},x=[],C=n("768b"),_=(n("ffc1"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{id:"snow"}})}),P=[],E=(n("8e6e"),n("456d"),n("6c7b"),n("75fc")),S=n("bd86");function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){Object(S["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var z=n("2ef0"),F={mounted:function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,e={color:"#ffffff",radius:[.5,3],speed:[1,3],wind:[-.5,3]},n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,i=N(N({},e),r),o=i.radius,s=i.speed,a=i.wind,u=i.color,c={color:u,x:z.random(0,t.offsetWidth),y:z.random(-t.offsetHeight,0),radius:z.random.apply(z,Object(E["a"])(o)),speed:z.random.apply(z,Object(E["a"])(s)),wind:z.random.apply(z,Object(E["a"])(a)),isResized:!1},l=t.getContext("2d"),f=function(){c.x=z.random(0,t.offsetWidth),c.y=z.random(-t.offsetHeight,0)},d=function(){return c.isResized=!0},m=function(){l.beginPath(),l.arc(c.x,c.y,c.radius,0,2*Math.PI),l.fillStyle=c.color,l.fill(),l.closePath()},h=n?function(){return n(l,c)}:m,p=function(){c.y+=c.speed,c.x+=c.wind},v=function(){c.y<t.offsetHeight||(c.isResized?(f(),c.isResized=!1):(c.y=0,c.x=z.random(0,t.offsetWidth)))},b=function(){p(),v()};return{update:b,resized:d,draw:h}},r=function(e,r){var i=e.getContext("2d"),o=[],s=function(t){return o.push(t(e))},a=function(){return z.forEach(o,(function(t){return t.update()}))},u=function(){i.canvas.width=e.offsetWidth,i.canvas.height=e.offsetHeight,z.forEach(o,(function(t){return t.resized()}))},c=function(){i.clearRect(0,0,e.offsetWidth,e.offsetHeight),z.forEach(o,(function(t){return t.draw()}))},l=function(){window.addEventListener("resize",u)},f=function e(){c(),a(),t(e)},d=function(){z.times(r,(function(){return s((function(t){return new n(t)}))})),l(),f()};return d(r),u(),{add:s,resize:u}};r(this.$el,150)}},R=F,$=Object(p["a"])(R,_,P,!1,null,null,null),q=$.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{domProps:{textContent:t._s(t.format(t.hour)+":"+t.format(t.min))}})},A=[],I={data:function(){return{interval:null,hour:0,min:0}},mounted:function(){this.interval=this.startTimer()},beforeDestroy:function(){clearInterval(this.interval)},methods:{startTimer:function(){var t=this;return setInterval((function(){59===t.min?(t.hour+=1,t.min=0):t.min+=1}),6e4)},format:function(t){return"0".concat(t).slice(-2)}}},H=I,T=Object(p["a"])(H,M,A,!1,null,null,null),D=T.exports,J={name:"Presentation",components:{Clock:D,SnowOverlay:q},computed:{remaining:function(){return this.bowl.length},identity:function(){return this.list[this.active]},bowl:function(){var t=[],e=Object.entries(this.list);return e.forEach((function(e){for(var n=Object(C["a"])(e,2),r=n[0],i=n[1],o=0;o<i.count;o+=1)t.push(r)})),this.shuffle(t)}},data:function(){return{list:{},history:[],previous:null,active:null}},watch:{list:{handler:function(t){localStorage.setItem("randomizr",JSON.stringify(t))},deep:!0}},beforeMount:function(){var t=JSON.parse(localStorage.getItem("randomizr"))||{};this.list=Array.isArray(t)?{}:t},mounted:function(){this.startPresentation()},methods:{draw:function(){var t=this.bowl;if(!(t.length<1)){var e=function(){return t[Math.floor(Math.random()*t.length)]},n=e();t.length>1&&n===this.previous&&(n=e()),this.previous=this.active,this.list[n].count-=1,this.active=n,this.history.push(n)}},shuffle:function(t){var e,n,r=t.length;while(r)n=Math.floor(Math.random()*r--),e=t[r],t[r]=t[n],t[n]=e;return t},handleClick:function(){console.log("handleClick"),this.draw()},handleKeydown:function(t){"Escape"!==t.key?this.draw():this.$emit("close")},startPresentation:function(){this.presenting=!0,this.draw();var t=this.$el;setTimeout((function(){t.focus()}),250)}}},W=J,G=(n("f1fc"),Object(p["a"])(W,j,x,!1,null,null,null)),K=G.exports,L={name:"home",components:{Entries:O,Presentation:K},data:function(){return{presenting:!1}},methods:{launchFullscreen:function(){this.presenting=!0;var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}}},B=L,Q=(n("21bb"),Object(p["a"])(B,s,a,!1,null,null,null)),U=Q.exports,V={components:{Home:U}},X=V,Y=(n("5c0b"),Object(p["a"])(X,i,o,!1,null,null,null)),Z=Y.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(Z)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("e332")},"7a98":function(t,e,n){},"9e58":function(t,e,n){},c466:function(t,e,n){"use strict";n("9e58")},e332:function(t,e,n){},f1fc:function(t,e,n){"use strict";n("3090")}});
//# sourceMappingURL=app.e836aaf6.js.map