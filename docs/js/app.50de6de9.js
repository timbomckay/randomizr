(function(t){function e(e){for(var i,s,a=e[0],l=e[1],c=e[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/randomizr/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2f16":function(t,e,n){"use strict";n("7a25")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"randomizr relative"},[n("div",{staticClass:"absolute bg-black bg-opacity-50 focus-within:bg-opacity-100 hover:bg-opacity-100 inline-flex right-2 rounded-3xl text-xl top-2 z-10 text-white opacity-75 hover:opacity-100 focus-within:opacity-100"},[t.presenting?n("button",{staticClass:"p-1 outline-none focus:ring",on:{click:function(e){t.presenting=!1}}},[n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])]):t._e(),n("button",{staticClass:"p-1 outline-none focus:ring",on:{click:function(e){t.fullscreen=!t.fullscreen}}},[t.fullscreen?n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}})]):n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}})])])]),n(t.presenting?"Presentation":"Entries",{tag:"component",staticClass:"bg-center bg-cover bg-no-repeat edit-list grid h-screen outline-none place-content-center relative",on:{close:function(e){t.presenting=!1},present:function(e){t.presenting=!0}}})],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"gap-10 p-4",staticStyle:{"background-image":"url('./img/christmas/gifts-light.jpg')"}},[n("h1",{staticClass:"font-extrabold text-2xl sm:text-3xl md:text-4xl text-center tracking-tight"},[n("span",{staticClass:"-rotate-6 bg-red-600 inline-block pb-1.5 pt-1 px-2.5 rounded scale-90 text-white total-gifts transform translate-y-0.5",domProps:{textContent:t._s(t.total)}}),t._v(" Gifts Randomizr ")]),n("div",{staticClass:"font-bold gap-4 grid md:grid-cols-3 overflow-auto sm:grid-cols-2"},t._l(t.list,(function(e,i,r){return n("div",{key:r,staticClass:"flex items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"item.count"}],staticClass:"bg-transparent list-qty focus:outline-none text-right text-xs",attrs:{type:"number",name:"quantity",min:"0",max:"99",placeholder:"1"},domProps:{value:e.count},on:{input:function(n){n.target.composing||t.$set(e,"count",n.target.value)}}}),n("span",{staticClass:"flex-1 mx-2",domProps:{textContent:t._s(e.name)}}),n("button",{staticClass:"grid h-4 hover:bg-red-500 hover:text-white focus:bg-red-500 focus:text-white remove md:invisible md:opacity-0 focus:outline-none place-content-center rounded-full text-gray-300 text-xs transition-all w-4",on:{click:function(e){return t.removeName(i)}}},[n("svg",{staticClass:"icon",attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{d:"M443.6 387.1L312.4 255.4l131.5-130c5.4-5.4 5.4-14.2 0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L256 197.8 124.9 68.3c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L68 105.9c-5.4 5.4-5.4 14.2 0 19.6l131.5 130L68.4 387.1c-2.6 2.6-4.1 6.1-4.1 9.8 0 3.7 1.4 7.2 4.1 9.8l37.4 37.6c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1L256 313.1l130.7 131.1c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1l37.4-37.6c2.6-2.6 4.1-6.1 4.1-9.8-.1-3.6-1.6-7.1-4.2-9.7z"}})])])])})),0),n("NewEntry",{on:{push:function(e){return t.addName(e)}}}),n("div",{staticClass:"text-center"},[n("button",{staticClass:"bg-red-600 btn--enlarge font-bold inline-block px-5 py-2 rounded text-white tracking-tight",attrs:{type:"button"},domProps:{textContent:t._s("Start")},on:{click:function(e){return t.$emit("present")}}})])],1)},a=[],l=(n("4160"),n("277d"),n("07ac"),n("e25e"),n("159b"),n("15fd")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"flex max-w-sm mx-auto w-full",on:{submit:function(e){return e.preventDefault(),t.addName(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"bg-transparent text-right",attrs:{max:"99",min:"1",type:"number"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"name",staticClass:"bg-transparent border-b-2 flex-auto focus:border-red-600 font-bold hover:border-current ml-2 mr-4 outline-none transition-colors",attrs:{placeholder:"Name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("button",{staticClass:"bg-red-600 font-bold hover:bg-red-800 inline-block px-2.5 py-1 rounded text-white text-xs tracking-tight",attrs:{type:"submit"},domProps:{textContent:t._s("Add Name")}})])},u=[],d=(n("0d03"),n("b0c0"),n("d3b7"),n("25f0"),n("498a"),{name:"NewNameForm",data:function(){return{name:"",count:1}},methods:{guid:function(){function t(t,e){for(e=t="";t++<4;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"");return e}return t()},addName:function(){this.name.trim()&&(this.$emit("push",{uid:this.guid(),name:this.name,count:this.count}),this.resetForm())},resetForm:function(){this.name="",this.count=1,null!=this.$refs.name&&this.$refs.name.focus()}}}),f=d,h=n("2877"),m=Object(h["a"])(f,c,u,!1,null,null,null),p=m.exports,v={name:"Entries",components:{NewEntry:p},computed:{total:function(){var t=Object.values(this.list),e=0;return t.forEach((function(t){e+=parseInt(t.count,36)})),e}},data:function(){return{list:{}}},watch:{list:{handler:function(t){localStorage.setItem("randomizr",JSON.stringify(t))},deep:!0}},mounted:function(){var t=JSON.parse(localStorage.getItem("randomizr"))||{};this.list=Array.isArray(t)?{}:t},methods:{addName:function(t){var e=t.uid,n=Object(l["a"])(t,["uid"]);i["a"].set(this.list,e,n)},removeName:function(t){i["a"]["delete"](this.list,t)}}},g=v,b=(n("2f16"),Object(h["a"])(g,s,a,!1,null,null,null)),x=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"presentation bg-red-800 text-white text-center",staticStyle:{"background-image":"url('./img/christmas/red-bg.jpg')"},attrs:{tabindex:"-1"},on:{keydown:t.handleKeydown,click:t.handleClick}},[n("SnowOverlay"),n("transition",{attrs:{appear:"",name:"slide-fade"}},[t.identity?n("div",{key:t.remaining,staticClass:"absolute presentation-display px-16 py-4 top-1/2 w-full"},[n("h1",{staticClass:"mb-6 text-9xl",domProps:{textContent:t._s(t.identity.name)}}),n("h3",{staticClass:"text-2xl font-semibold",domProps:{textContent:t._s(t.identity.count>0?t.identity.count+" Gifts Remaining":"Last One, Make It Count")}})]):n("div",{staticClass:"absolute presentation-display px-16 py-4 top-1/2 w-full"},[n("h1",{staticClass:"mb-4 text-9xl",domProps:{textContent:t._s("Merry Christmas")}}),n("h3",{staticClass:"text-2xl font-bold",domProps:{textContent:t._s("The End")}})])]),t.identity?n("div",{staticClass:"bg-black bg-opacity-60 bottom-0 fixed flex font-bold justify-between left-0 px-4 py-2 text-xs w-full"},[n("Clock"),n("span",{domProps:{textContent:t._s(t.history.length+" / "+(t.remaining+t.history.length))}})],1):t._e()],1)},y=[],C=(n("4fad"),n("4795"),n("3835")),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{id:"snow"}})},O=[],z=(n("cb29"),n("a630"),n("3ca3"),n("2909")),_=n("5530"),P={mounted:function(){var t=this,e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,n={color:"#ffffff",radius:[.5,3],speed:[1,3],wind:[-.5,3]},i=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,o=Object(_["a"])(Object(_["a"])({},n),r),s=o.radius,a=o.speed,l=o.wind,c=o.color,u={color:c,x:t.random(0,e.offsetWidth),y:t.random(-e.offsetHeight,0),radius:t.random.apply(t,Object(z["a"])(s)),speed:t.random.apply(t,Object(z["a"])(a)),wind:t.random.apply(t,Object(z["a"])(l)),isResized:!1},d=e.getContext("2d"),f=function(){u.x=t.random(0,e.offsetWidth),u.y=t.random(-e.offsetHeight,0)},h=function(){return u.isResized=!0},m=function(){d.beginPath(),d.arc(u.x,u.y,u.radius,0,2*Math.PI),d.fillStyle=u.color,d.fill(),d.closePath()},p=i?function(){return i(d,u)}:m,v=function(){u.y+=u.speed,u.x+=u.wind},g=function(){u.y<e.offsetHeight||(u.isResized?(f(),u.isResized=!1):(u.y=0,u.x=t.random(0,e.offsetWidth)))},b=function(){v(),g()};return{update:b,resized:h,draw:p}},r=function(t,n){var r=t.getContext("2d"),o=[],s=function(e){return o.push(e(t))},a=function(){return o.forEach((function(t){return t.update()}))},l=function(){r.canvas.width=t.offsetWidth,r.canvas.height=t.offsetHeight,o.forEach((function(t){return t.resized()}))},c=function(){r.clearRect(0,0,t.offsetWidth,t.offsetHeight),o.forEach((function(t){return t.draw()}))},u=function(){window.addEventListener("resize",l)},d=function t(){c(),a(),e(t)},f=function(){Array.from({length:n},(function(){return s((function(t){return new i(t)}))})),u(),d()};return f(n),l(),{add:s,resize:l}};r(this.$el,150)},methods:{random:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.min(t,e),i=Math.max(t,e);return n+Math.random()*(i-n)}}},j=P,E=Object(h["a"])(j,k,O,!1,null,null,null),M=E.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{domProps:{textContent:t._s(t.format(t.hour)+":"+t.format(t.min))}})},S=[],N=(n("fb6a"),{data:function(){return{interval:null,hour:0,min:0}},mounted:function(){this.interval=this.startTimer()},beforeDestroy:function(){clearInterval(this.interval)},methods:{startTimer:function(){var t=this;return setInterval((function(){59===t.min?(t.hour+=1,t.min=0):t.min+=1}),6e4)},format:function(t){return"0".concat(t).slice(-2)}}}),R=N,$=Object(h["a"])(R,F,S,!1,null,null,null),H=$.exports,q={name:"Presentation",components:{Clock:H,SnowOverlay:M},computed:{remaining:function(){return this.bowl.length},identity:function(){return this.list[this.active]},bowl:function(){var t=[],e=Object.entries(this.list);return e.forEach((function(e){for(var n=Object(C["a"])(e,2),i=n[0],r=n[1],o=0;o<r.count;o+=1)t.push(i)})),this.shuffle(t)}},data:function(){return{list:{},history:[],previous:null,active:null}},watch:{list:{handler:function(t){localStorage.setItem("randomizr",JSON.stringify(t))},deep:!0}},beforeMount:function(){var t=JSON.parse(localStorage.getItem("randomizr"))||{};this.list=Array.isArray(t)?{}:t},mounted:function(){this.startPresentation()},methods:{draw:function(){var t=this.bowl;if(t.length<1)this.active=null;else{this.previous=this.active;var e=function(){return t[Math.floor(Math.random()*t.length)]},n=e();t.length>1&&n===this.previous&&(n=e()),this.active=n,this.list[n].count-=1,this.history.push(n)}},shuffle:function(t){var e,n,i=t.length;while(i)n=Math.floor(Math.random()*i--),e=t[i],t[i]=t[n],t[n]=e;return t},handleClick:function(){this.draw()},handleKeydown:function(t){switch(t.key){case"Escape":this.$emit("close");break;case" ":case"ArrowRight":case"Enter":case"Tab":this.draw();break;default:break}},startPresentation:function(){this.draw();var t=this.$el;setTimeout((function(){return t.focus()}),250)}}},A=q,I=(n("f1fc"),Object(h["a"])(A,w,y,!1,null,null,null)),L=I.exports,T={name:"home",components:{Entries:x,Presentation:L},data:function(){return{fullscreen:!1,presenting:!1}},watch:{fullscreen:function(t){t?this.launchFullscreen():this.closeFullscreen()}},methods:{launchFullscreen:function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(),t.onfullscreenchange=this.handleFullscreenChange},closeFullscreen:function(){null!=document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},handleFullscreenChange:function(){this.fullscreen=null!=document.fullscreenElement}}},J=T,V=(n("5c0b"),Object(h["a"])(J,r,o,!1,null,null,null)),W=V.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(W)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("6605")},6605:function(t,e,n){},"7a25":function(t,e,n){},f0694:function(t,e,n){},f1fc:function(t,e,n){"use strict";n("f0694")}});
//# sourceMappingURL=app.50de6de9.js.map