(function(t){function e(e){for(var r,a,s=e[0],u=e[1],c=e[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/randomizr/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2f16":function(t,e,n){"use strict";n("7a25")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.presenting?"Presentation":"Entries",{tag:"component",staticClass:"bg-center bg-cover bg-no-repeat edit-list grid h-screen outline-none place-content-center randomizr relative",on:{close:function(e){t.presenting=!1},present:t.launchFullscreen}})},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"gap-10 p-4",staticStyle:{"background-image":"url('./img/christmas/gifts-light.jpg')"}},[n("h1",{staticClass:"font-extrabold text-2xl sm:text-3xl md:text-4xl text-center tracking-tight"},[n("span",{staticClass:"-rotate-6 bg-red-600 inline-block pb-1.5 pt-1 px-2.5 rounded scale-90 text-white total-gifts transform translate-y-0.5",domProps:{textContent:t._s(t.total)}}),t._v(" Gifts Randomizr ")]),n("div",{staticClass:"font-bold gap-4 grid md:grid-cols-3 overflow-auto sm:grid-cols-2"},t._l(t.list,(function(e,r,i){return n("div",{key:i,staticClass:"flex items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"item.count"}],staticClass:"bg-transparent list-qty focus:outline-none text-right text-xs",attrs:{type:"number",name:"quantity",min:"0",max:"99",placeholder:"1"},domProps:{value:e.count},on:{input:function(n){n.target.composing||t.$set(e,"count",n.target.value)}}}),n("span",{staticClass:"flex-1 mx-2",domProps:{textContent:t._s(e.name)}}),n("button",{staticClass:"grid h-4 hover:bg-red-500 hover:text-white focus:bg-red-500 focus:text-white remove md:invisible md:opacity-0 focus:outline-none place-content-center rounded-full text-gray-300 text-xs transition-all w-4",on:{click:function(e){return t.removeName(r)}}},[n("svg",{staticClass:"icon",attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{d:"M443.6 387.1L312.4 255.4l131.5-130c5.4-5.4 5.4-14.2 0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L256 197.8 124.9 68.3c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L68 105.9c-5.4 5.4-5.4 14.2 0 19.6l131.5 130L68.4 387.1c-2.6 2.6-4.1 6.1-4.1 9.8 0 3.7 1.4 7.2 4.1 9.8l37.4 37.6c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1L256 313.1l130.7 131.1c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1l37.4-37.6c2.6-2.6 4.1-6.1 4.1-9.8-.1-3.6-1.6-7.1-4.2-9.7z"}})])])])})),0),n("NewEntry",{on:{push:function(e){return t.addName(e)}}}),n("div",{staticClass:"text-center"},[n("button",{staticClass:"bg-red-600 btn--enlarge font-bold inline-block px-5 py-2 rounded text-white tracking-tight",attrs:{type:"button"},domProps:{textContent:t._s("Start")},on:{click:function(e){return t.$emit("present")}}})])],1)},s=[],u=(n("4160"),n("277d"),n("07ac"),n("e25e"),n("159b"),n("15fd")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"flex max-w-sm mx-auto w-full",on:{submit:function(e){return e.preventDefault(),t.addName(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"bg-transparent text-right",attrs:{max:"99",min:"1",type:"number"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"name",staticClass:"bg-transparent border-b-2 flex-auto focus:border-red-600 font-bold hover:border-current ml-2 mr-4 outline-none transition-colors",attrs:{placeholder:"Name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("button",{staticClass:"bg-red-600 font-bold hover:bg-red-800 inline-block px-2.5 py-1 rounded text-white text-xs tracking-tight",attrs:{type:"submit"},domProps:{textContent:t._s("Add Name")}})])},l=[],d=(n("0d03"),n("b0c0"),n("d3b7"),n("25f0"),n("498a"),{name:"NewNameForm",data:function(){return{name:"",count:1}},methods:{guid:function(){function t(t,e){for(e=t="";t++<4;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"");return e}return t()},addName:function(){this.name.trim()&&(this.$emit("push",{uid:this.guid(),name:this.name,count:this.count}),this.resetForm())},resetForm:function(){this.name="",this.count=1,null!=this.$refs.name&&this.$refs.name.focus()}}}),f=d,m=n("2877"),h=Object(m["a"])(f,c,l,!1,null,null,null),p=h.exports,g={name:"Entries",components:{NewEntry:p},computed:{total:function(){var t=Object.values(this.list),e=0;return t.forEach((function(t){e+=parseInt(t.count,36)})),e}},data:function(){return{list:{}}},watch:{list:{handler:function(t){localStorage.setItem("randomizr",JSON.stringify(t))},deep:!0}},mounted:function(){var t=JSON.parse(localStorage.getItem("randomizr"))||{};this.list=Array.isArray(t)?{}:t},methods:{addName:function(t){var e=t.uid,n=Object(u["a"])(t,["uid"]);r["a"].set(this.list,e,n)},removeName:function(t){r["a"]["delete"](this.list,t)}}},b=g,v=(n("2f16"),Object(m["a"])(b,a,s,!1,null,null,null)),x=v.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"presentation bg-red-800 text-white text-center",staticStyle:{"background-image":"url('./img/christmas/red-bg.jpg')"},attrs:{tabindex:"-1"},on:{keydown:t.handleKeydown,click:t.handleClick}},[n("SnowOverlay"),n("transition",{attrs:{appear:"",name:"slide-fade"}},[t.remaining&&t.identity?n("div",{key:t.remaining,staticClass:"absolute presentation-display px-16 py-4 top-1/2 w-full"},[n("h1",{staticClass:"mb-6 text-9xl",domProps:{textContent:t._s(t.identity.name)}}),n("h3",{staticClass:"text-2xl font-semibold",domProps:{textContent:t._s(t.identity.count>0?t.identity.count+" Gifts Remaining":"Last One, Make It Count")}})]):n("div",{staticClass:"absolute presentation-display px-16 py-4 top-1/2 w-full"},[n("h1",{staticClass:"mb-4 text-9xl",domProps:{textContent:t._s("Merry Christmas")}}),n("h3",{staticClass:"text-2xl font-bold",domProps:{textContent:t._s("The End")}})])]),t.remaining?n("div",{staticClass:"bg-black bg-opacity-60 bottom-0 fixed flex font-bold justify-between left-0 px-4 py-2 text-xs w-full"},[n("Clock"),n("span",{domProps:{textContent:t._s(t.history.length+" / "+(t.remaining+t.history.length))}})],1):t._e()],1)},w=[],C=(n("4fad"),n("4795"),n("3835")),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{id:"snow"}})},_=[],k=(n("cb29"),n("a630"),n("3ca3"),n("2909")),P=n("5530"),j={mounted:function(){var t=this,e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,n={color:"#ffffff",radius:[.5,3],speed:[1,3],wind:[-.5,3]},r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,o=Object(P["a"])(Object(P["a"])({},n),i),a=o.radius,s=o.speed,u=o.wind,c=o.color,l={color:c,x:t.random(0,e.offsetWidth),y:t.random(-e.offsetHeight,0),radius:t.random.apply(t,Object(k["a"])(a)),speed:t.random.apply(t,Object(k["a"])(s)),wind:t.random.apply(t,Object(k["a"])(u)),isResized:!1},d=e.getContext("2d"),f=function(){l.x=t.random(0,e.offsetWidth),l.y=t.random(-e.offsetHeight,0)},m=function(){return l.isResized=!0},h=function(){d.beginPath(),d.arc(l.x,l.y,l.radius,0,2*Math.PI),d.fillStyle=l.color,d.fill(),d.closePath()},p=r?function(){return r(d,l)}:h,g=function(){l.y+=l.speed,l.x+=l.wind},b=function(){l.y<e.offsetHeight||(l.isResized?(f(),l.isResized=!1):(l.y=0,l.x=t.random(0,e.offsetWidth)))},v=function(){g(),b()};return{update:v,resized:m,draw:p}},i=function(t,n){var i=t.getContext("2d"),o=[],a=function(e){return o.push(e(t))},s=function(){return o.forEach((function(t){return t.update()}))},u=function(){i.canvas.width=t.offsetWidth,i.canvas.height=t.offsetHeight,o.forEach((function(t){return t.resized()}))},c=function(){i.clearRect(0,0,t.offsetWidth,t.offsetHeight),o.forEach((function(t){return t.draw()}))},l=function(){window.addEventListener("resize",u)},d=function t(){c(),s(),e(t)},f=function(){Array.from({length:n},(function(){return a((function(t){return new r(t)}))})),l(),d()};return f(n),u(),{add:a,resize:u}};i(this.$el,150)},methods:{random:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.min(t,e),r=Math.max(t,e);return n+Math.random()*(r-n)}}},S=j,E=Object(m["a"])(S,O,_,!1,null,null,null),z=E.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{domProps:{textContent:t._s(t.format(t.hour)+":"+t.format(t.min))}})},F=[],M=(n("fb6a"),{data:function(){return{interval:null,hour:0,min:0}},mounted:function(){this.interval=this.startTimer()},beforeDestroy:function(){clearInterval(this.interval)},methods:{startTimer:function(){var t=this;return setInterval((function(){59===t.min?(t.hour+=1,t.min=0):t.min+=1}),6e4)},format:function(t){return"0".concat(t).slice(-2)}}}),R=M,$=Object(m["a"])(R,N,F,!1,null,null,null),q=$.exports,A={name:"Presentation",components:{Clock:q,SnowOverlay:z},computed:{remaining:function(){return this.bowl.length},identity:function(){return this.list[this.active]},bowl:function(){var t=[],e=Object.entries(this.list);return e.forEach((function(e){for(var n=Object(C["a"])(e,2),r=n[0],i=n[1],o=0;o<i.count;o+=1)t.push(r)})),this.shuffle(t)}},data:function(){return{list:{},history:[],previous:null,active:null}},watch:{list:{handler:function(t){localStorage.setItem("randomizr",JSON.stringify(t))},deep:!0}},beforeMount:function(){var t=JSON.parse(localStorage.getItem("randomizr"))||{};this.list=Array.isArray(t)?{}:t},mounted:function(){this.startPresentation()},methods:{draw:function(){var t=this.bowl;if(!(t.length<1)){this.previous=this.active;var e=function(){return t[Math.floor(Math.random()*t.length)]},n=e();t.length>1&&n===this.previous&&(n=e()),this.active=n,this.list[n].count-=1,this.history.push(n)}},shuffle:function(t){var e,n,r=t.length;while(r)n=Math.floor(Math.random()*r--),e=t[r],t[r]=t[n],t[n]=e;return t},handleClick:function(){this.draw()},handleKeydown:function(t){switch(t.key){case"Escape":this.$emit("close");break;case" ":case"ArrowRight":case"Enter":case"Tab":this.draw();break;default:break}},startPresentation:function(){this.presenting=!0,this.draw();var t=this.$el;setTimeout((function(){t.focus()}),250)}}},I=A,T=(n("f1fc"),Object(m["a"])(I,y,w,!1,null,null,null)),L=T.exports,J={name:"home",components:{Entries:x,Presentation:L},data:function(){return{presenting:!1}},methods:{launchFullscreen:function(){this.presenting=!0;var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}}},H=J,W=(n("5c0b"),Object(m["a"])(H,i,o,!1,null,null,null)),D=W.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(D)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("6605")},6605:function(t,e,n){},"7a25":function(t,e,n){},f0694:function(t,e,n){},f1fc:function(t,e,n){"use strict";n("f0694")}});
//# sourceMappingURL=app.7ad08384.js.map